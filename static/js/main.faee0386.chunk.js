(this["webpackJsonpdungeon-gen-app"]=this["webpackJsonpdungeon-gen-app"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(5),c=a.n(i),o=a(2),s=a(6),h=a(7),l=a(0),u=["draw","options"];var d=function(e){var t=e.draw,a=e.options,n=Object(h.a)(e,u),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.a.useRef(null);return r.a.useEffect((function(){var n=a.current.getContext(t.context||"2d");e(n)}),[e,t]),a}(t,a);return Object(l.jsx)("canvas",Object(s.a)({ref:i},n))};var j=function(e){return Object(l.jsx)("header",{children:Object(l.jsx)("h1",{children:"Dungeon Generator"})})},g=a(4);var b=function(e){var t=r.a.useState(25),a=Object(o.a)(t,2),n=(a[0],a[1],r.a.useState(20)),i=Object(o.a)(n,2),c=i[0],s=i[1],h=r.a.useState(20),u=Object(o.a)(h,2),d=u[0],j=u[1],g=r.a.useState(10),b=Object(o.a)(g,2),v=b[0],x=b[1],f=r.a.useState("reg"),m=Object(o.a)(f,2),O=m[0],p=m[1];return Object(l.jsxs)("form",{children:[Object(l.jsxs)("label",{children:["Height: ",d]}),Object(l.jsx)("input",{type:"range",className:"form-range",min:"1",max:"50",step:"1",name:"height",onChange:function(e){var t=e.target,a=(t.name,t.value);j(a)},value:d}),Object(l.jsxs)("label",{children:["Width: ",c]}),Object(l.jsx)("input",{type:"range",className:"form-range",min:"1",max:"50",step:"1",name:"width",onChange:function(e){var t=e.target,a=(t.name,t.value);s(a)},value:c}),Object(l.jsxs)("label",{children:["Max Rooms: ",v]}),Object(l.jsx)("input",{type:"range",className:"form-range",min:"1",max:"100",step:"1",name:"roomCount",onChange:function(e){var t=e.target,a=(t.name,t.value);x(a)},value:v}),Object(l.jsx)("label",{children:"Room Sizes: "}),Object(l.jsxs)("select",{className:"form-select form-select-sm",value:O,onChange:function(e){var t=e.target,a=(t.name,t.value);p(a)},children:[Object(l.jsx)("option",{value:"small",children:"Small (1x1 - 5x5)"}),Object(l.jsx)("option",{value:"reg",children:"Regular (3x3 - 7x7)"}),Object(l.jsx)("option",{value:"large",children:"Large (5x5 - 10x10)"})]}),Object(l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(t){e.changeHeight(d),e.changeWidth(c)},children:"Resize"}),Object(l.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){var t,a;"small"===O?(t=1,a=5):"reg"===O?(t=3,a=7):"large"===O?(t=5,a=10):console.log("error: "+O),e.onGenerate(v,t,a)},children:"Generate"})]})};var v=function(){var e,t=r.a.useState(25),a=Object(o.a)(t,2),n=a[0],i=(a[1],r.a.useState(20)),c=Object(o.a)(i,2),s=c[0],h=c[1],u=r.a.useState(20),v=Object(o.a)(u,2),x=v[0],f=v[1],m=r.a.useState([]),O=Object(o.a)(m,2),p=O[0],y=O[1],w=r.a.useState(),k=Object(o.a)(w,2),S=k[0],C=k[1],M=600,N=600;function E(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.x-a*n<t.x+t.width&&e.x+e.width+a*n>t.x&&e.y-a*n<t.y+t.height&&e.y+e.height+a*n>t.y}return Object(l.jsxs)("div",{children:[Object(l.jsx)(j,{}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col",children:Object(l.jsx)(b,{onGenerate:function(e,t,a){for(var r=[],i=[],c=0;c<e;c++){var o=a-t,h=(Math.floor(Math.random()*o)+t)*n,l=(Math.floor(Math.random()*o)+t)*n;i.push({width:h,height:l})}var u=0;i.forEach((function(e){for(var t=!1,a=0;!t&&a<10;){var i=!0,c=Math.floor(Math.random()*s)*n,o=Math.floor(Math.random()*x)*n;c+e.width<s*n&&o+e.height<x*n?function(){var t={x:c,y:o,width:e.width,height:e.height};null!=r.find((function(e){return E(t,e,1)}))&&(i=!1)}():i=!1,i?(r.push({id:u,x:c,y:o,width:e.width,height:e.height,focused:!1}),t=!0,u++):a++}})),y(r)},changeWidth:h,changeHeight:f})}),Object(l.jsxs)("div",{className:"col",children:[Object(l.jsx)(d,{draw:function(e){M=n*s,N=n*x;for(var t=new g.a({type:g.a.Types.canvas,width:M,height:N,domElement:e.canvas}),a=0;a<M;a+=n){t.makeLine(a,0,a,N).stroke="DarkGray"}for(var r=0;r<N;r+=n){t.makeLine(0,r,M,r).stroke="DarkGray"}p.forEach((function(e){var a=t.makeText(e.id,e.x+n/2,e.y+n/2);a.size=n,a.stroke="black",a.opacity=.75;var r=t.makeRectangle(e.x+e.width/2,e.y+e.height/2,e.width,e.height);r.fill=e.focused?"blue":"orangered",r.opacity=.5})),t.update()},options:{context:"2d"},style:{borderStyle:"solid"},width:M,height:N,onClick:function(e){var t,a=e.nativeEvent.layerX,n=e.nativeEvent.layerY,r=p.find((function(e){return a>e.x&&a<e.x+e.width&&n>e.y&&n<e.y+e.height}));null===r||void 0===r?(t=-1,C()):t=r.id,y(p.map((function(e){return t===e.id?(e.focused=!0,C(e)):e.focused=!1,e})))}}),Object(l.jsx)("p",{children:S?(e=S,"id: "+e.id+"\n x: "+e.x/n+"\n y: "+e.y/n+"\n height: "+e.height/n+"\n width: "+e.width/n+"\n "):null})," "]})]})]})};a(14);c.a.render(Object(l.jsx)(v,{}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.faee0386.chunk.js.map